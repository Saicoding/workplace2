<!--pages/tiku/zuoti/index.wxml-->

<!-- 如果没有试题就不显示 -->
<swiper wx:if="{{isLoaded && isHasShiti}}" duration="200"  current="{{myCurrent}}" circular="{{circular}}" skip-hidden-item-layout="true" class="swiper" bindchange="sliderChange">
  <block wx:for="{{sliderShitiArray}}" wx:for-item="shiti" wx:key="ti">
    <swiper-item>
      <scroll-view scroll-y style="height:{{windowHeight-85}}rpx;">
        <view style="border:1rpx solid white">
          <!--问题-->
          <question bindtoogleAnimation="_toogleAnimation" id="q{{shiti.px}}" num_color="{{shiti.num_color}}" px="{{shiti.px}}" tx="{{shiti.tx}}" question="{{shiti.question}}"></question>

          <!--单选题-->
          <view style="margin-botoom:50rpx;" wx:if="{{shiti.TX == 1}}">
            <singleSelect shiti="{{shiti}}" checked="{{checked}}" bindanswerSelect="_answerSelect"> </singleSelect>
            <!-- 解析 -->
            <jiexi isAnswer="{{shiti.isAnswer}}" jiexi="{{shiti.jiexi}}"></jiexi>
          </view>

          <!--多选题-->
          <view style="margin-botoom:50rpx;" wx:if="{{shiti.TX ==2}}">

            <multiSelect shiti="{{shiti}}" checked="{{checked}}" bindcheckVal="_checkVal"></multiSelect>

            <view class='submit_answer' wx:if="{{!shiti.isAnswer}}" bindtap="_answerSelect">确认选择</view>
            <!-- 解析 -->
            <jiexi isAnswer="{{shiti.isAnswer}}" jiexi="{{shiti.jiexi}}"></jiexi>
          </view>

        </view>
      </scroll-view>
    </swiper-item>
  </block>
</swiper>

<view wx:if="{{!isLoaded}}">
  <image class="loading-img" src="/imgs/timg.gif" mode="aspectFit" style="margin-top:{{windowHeight/2-400}}rpx;"></image>
</view>

<!-- 底部正确错误个数统计条 -->
<count wx:if="{{isHasShiti}}" id="count" rightNum="{{rightNum}}" wrongNum="{{wrongNum}}" nums="{{nums}}" px="{{px}}" isMark="{{myFavorite}}" class="bottom" bindtoogleMark="_toogleMark" bindtoogleMarkAnswer="_toogleMarkAnswer" bindtoggleErrorRecovery="_toggleErrorRecovery">
</count>
<!-- 答题板 -->
<markAnswer id="markAnswer" done_answers="{{jieDoneAnswerArray}}" windowHeight="{{windowHeight}}" markAnswerItems="{{markAnswerItems}}" bind:tapEvent="_tapEvent">
</markAnswer>

<view wx:if="{{!isHasShiti}}">
  <hasNoPage str="当前题库没有收藏试题"></hasNoPage>
</view>

<!-- 纠错板 -->
<errorRecovery id="errorRecovery" windowWidth="{{windowWidth}}" windowHeight="{{windowHeight}}" bindsubmit="_submit"></errorRecovery>